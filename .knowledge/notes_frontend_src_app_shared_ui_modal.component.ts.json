{"is_source_file": true, "format": "TypeScript (Angular component)", "description": "This file defines an Angular standalone component called ModalComponent, which implements an accessible modal dialog with focus management, ARIA attributes, and backdrop handling.", "external_files": ["@angular/core", "@angular/common"], "external_methods": ["inject", "isPlatformBrowser"], "published": ["close"], "classes": [{"name": "ModalComponent", "description": "An Angular standalone component for an accessible modal dialog, handling focus trap, ARIA properties, and backdrop click/escape key to close."}], "methods": [{"name": "ngAfterViewInit", "description": "Lifecycle hook that triggers focus on the modal panel after the view initializes if the modal is open."}, {"name": "ngOnDestroy", "description": "Lifecycle hook that restores previous focus when the component is destroyed."}, {"name": "ngOnChanges", "description": "Handles focus management and focus restoration when 'open' input changes."}, {"name": "focusPanel", "description": "Sets focus to the modal panel element asynchronously."}, {"name": "restoreFocus", "description": "Restores focus to the element that was focused before the modal opened."}, {"name": "onBackdrop", "description": "Emits close event when backdrop is clicked."}, {"name": "onEsc", "description": "Handles escape key press to trigger close event if modal is open."}], "calls": ["Promise.resolve", "this.panelRef?.nativeElement.setAttribute", "this.panelRef?.nativeElement.focus", "this.prevFocused.focus", "this.close.emit"], "search-terms": ["Angular modal", "accessible dialog", "focus trap", "ARIA modal", "backdrop click", "escape key close"], "state": 2, "file_id": 28, "knowledge_revision": 89, "git_revision": "", "revision_history": [{"59": ""}, {"80": ""}, {"86": ""}, {"87": ""}, {"88": ""}, {"89": ""}], "ctags": [{"_type": "tag", "name": "ModalComponent", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-171874-171892/notes_frontend/src/app/shared/ui/modal.component.ts", "pattern": "/^export class ModalComponent implements AfterViewInit, OnDestroy {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "active", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-171874-171892/notes_frontend/src/app/shared/ui/modal.component.ts", "pattern": "/^        const active: any = doc && doc.activeElement ? doc.activeElement : null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "doc", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-171874-171892/notes_frontend/src/app/shared/ui/modal.component.ts", "pattern": "/^        const active: any = doc && doc.activeElement ? doc.activeElement : null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "doc", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-171874-171892/notes_frontend/src/app/shared/ui/modal.component.ts", "pattern": "/^        const doc: any = (globalThis as any).document;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "el", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-171874-171892/notes_frontend/src/app/shared/ui/modal.component.ts", "pattern": "/^      const el = this.panelRef?.nativeElement;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "open", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-171874-171892/notes_frontend/src/app/shared/ui/modal.component.ts", "pattern": "/^  @Input() open = false;$/", "language": "TypeScript", "kind": "property", "scope": "ModalComponent", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-171874-171892/notes_frontend/src/app/shared/ui/modal.component.ts", "pattern": "/^  @Input() title = 'Dialog';$/", "language": "TypeScript", "kind": "property", "scope": "ModalComponent", "scopeKind": "class"}], "hash": "1b416de771542cee92f91cc5c5519778", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/app/shared/ui/modal.component.ts", "fields": [{"name": "@Input() open = false;", "scope": "ModalComponent", "scopeKind": "class", "description": "unavailable"}, {"name": "@Input() title = 'Dialog';", "scope": "ModalComponent", "scopeKind": "class", "description": "unavailable"}]}